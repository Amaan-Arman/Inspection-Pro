<!doctype html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="icon" href="~/admin_assets/images/comapanylogo.jpg" type="image/x-icon" />

    <title>The Inspection Pro</title>

    <!-- Bootstrap Core and vandor -->

    <script src="~/Scripts/jquery-3.7.1.min.js"></script>
    @*<script src="https://code.jquery.com/jquery-3.2.1.min.js" ></script>*@

    <link rel="stylesheet" href="~/admin_assets/plugins/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/admin_assets/plugins/dropify/css/dropify.min.css">
    <link href="~/admin_assets/plugins/sweetalert/sweetalert.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/admin_assets/fontawesome-free/css/all.css">
    <link rel="stylesheet" href="~/admin_assets/fontawesome-free/css/all.min.css">
    @*Plugins css*@
    <link rel="stylesheet" href="~/admin_assets/plugins/charts-c3/c3.min.css" />
    @*Core css*@
    <link rel="stylesheet" href="~/admin_assets/css/main.css" />
    <link rel="stylesheet" href="~/admin_assets/css/theme1.css" />
    <style>
        .table-hover tbody tr:hover td {
            background-color: #6ca1ad;
            color: white;
        }

            .table-hover tbody tr:hover td em {
                background-color: #6ca1ad;
                color: white;
            }

        td {
            cursor: pointer;
        }

        a:hover {
            cursor: pointer;
        }

        .back-to-top {
            position: fixed;
            /*visibility: hidden;*/
            /*opacity: 0;*/
            right: 15px;
            bottom: 110px;
            z-index: 996;
            background: #1A5089;
            width: 50px;
            height: 50px;
            border-radius: 4px;
            transition: all .4s
        }

            .back-to-top i {
                font-size: 28px;
                color: #ffffff;
                line-height: 0
            }

            .back-to-top:hover {
                background: #ffffff;
            }

                .back-to-top:hover i {
                    color: #1A5089
                }

            .back-to-top.active {
                visibility: visible;
                opacity: 1
            }
       
    </style>
</head>

<body ng-app="Homeapp" class="font-montserrat">
    <!-- Page Loader -->
    <div class="page-loader-wrapper">
        <div class="loader">
        </div>
    </div>
    <div id="main_content">

        @if (TempData["DbVarification"] == null && TempData["NetVarification"] == null && TempData["trailVerion"] == null)
        {

            <div id="header_top" class="header_top">
                <div class="container">
                    <div class="hleft">
                        <a class="header-brand" href="@Url.Action("Index", "Home")"><i class="fa fa-free-code-camp brand-logo" aria-hidden="true"></i></a>
                        @*<div class="dropdown">
                                <a href="javascript:void(0)" class="nav-link user_btn"><img class="avatar" src="admin_assets/images/user.png" alt="" data-toggle="tooltip" data-placement="right" title="User Menu" /></a>
                                <a href="page-search.html" class="nav-link icon xs-hide"><i class="fa fa-search"></i></a>
                                <a href="app-calendar.html" class="nav-link icon app_inbox xs-hide"><i class="fa fa-calendar"></i></a>
                                <a href="app-contact.html" class="nav-link icon xs-hide"><i class="fa fa-id-card-o"></i></a>
                                <a href="app-chat.html" class="nav-link icon xs-hide"><i class="fa fa-comments-o"></i></a>
                                <a href="app-filemanager.html" class="nav-link icon app_file xs-hide"><i class="fa fa-folder-o"></i></a>
                                <a href="javascript:void(0)" class="nav-link icon theme_btn xs-hide"><i class="fa fa-paint-brush" data-toggle="tooltip" data-placement="right" title="Themes"></i></a>
                            </div>*@
                    </div>
                    <div class="hright">
                        <div class="dropdown">
                            <a href="javascript:void(0)" class="nav-link icon settingbar"><i class="fa fa-gear fa-spin" data-toggle="tooltip" data-placement="right" title="Settings"></i></a>
                            <a href="javascript:void(0)" class="nav-link icon menu_toggle"><i class="fa  fa-align-left"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="rightsidebar" class="right_sidebar">
                <a href="javascript:void(0)" class="p-3 settingbar float-right"><i class="fa fa-close"></i></a>
                <div class="p-4">
                    <div class="mb-4">
                        <h6 class="font-14 font-weight-bold text-muted">Font Style</h6>
                        <div class="custom-controls-stacked font_setting">
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="font" value="font-opensans">
                                <span class="custom-control-label">Open Sans Font</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="font" value="font-montserrat" checked="">
                                <span class="custom-control-label">Montserrat Google Font</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="font" value="font-roboto">
                                <span class="custom-control-label">Robot Google Font</span>
                            </label>
                        </div>
                    </div>
                    <hr>
                    <div class="mb-4">
                        <h6 class="font-14 font-weight-bold text-muted">Dropdown Menu Icon</h6>
                        <div class="custom-controls-stacked arrow_option">
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="marrow" value="arrow-a">
                                <span class="custom-control-label">A</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="marrow" value="arrow-b">
                                <span class="custom-control-label">B</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="marrow" value="arrow-c" checked="">
                                <span class="custom-control-label">C</span>
                            </label>
                        </div>
                        <h6 class="font-14 font-weight-bold mt-4 text-muted">SubMenu List Icon</h6>
                        <div class="custom-controls-stacked list_option">
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="listicon" value="list-a" checked="">
                                <span class="custom-control-label">A</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="listicon" value="list-b">
                                <span class="custom-control-label">B</span>
                            </label>
                            <label class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" name="listicon" value="list-c">
                                <span class="custom-control-label">C</span>
                            </label>
                        </div>
                    </div>
                    <hr>
                    <div>
                        <h6 class="font-14 font-weight-bold mt-4 text-muted">General Settings</h6>
                        <ul class="setting-list list-unstyled mt-1 setting_switch">
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Night Mode</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-darkmode">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Fix Navbar top</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-fixnavbar">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Header Dark</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-pageheader" checked="">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Min Sidebar Dark</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-min_sidebar">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Sidebar Dark</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-sidebar">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Icon Color</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-iconcolor">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Gradient Color</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-gradient">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Box Shadow</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-boxshadow">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">RTL Support</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-rtl">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                            <li>
                                <label class="custom-switch">
                                    <span class="custom-switch-description">Box Layout</span>
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input btn-boxlayout">
                                    <span class="custom-switch-indicator"></span>
                                </label>
                            </li>
                        </ul>
                    </div>
                    <hr>
                    <div class="form-group">
                        <label class="d-block">Storage <span class="float-right">77%</span></label>
                        <div class="progress progress-sm">
                            <div class="progress-bar" role="progressbar" aria-valuenow="77" aria-valuemin="0" aria-valuemax="100" style="width: 77%;"></div>
                        </div>
                        <button type="button" class="btn btn-primary btn-block mt-3">Upgrade Storage</button>
                    </div>
                </div>
            </div>

            @*<div class="theme_div">
                    <div class="card">
                        <div class="card-body">
                            <ul class="list-group list-unstyled">
                                <li class="list-group-item mb-2">
                                    <p>Default Theme</p>
                                    <a href="index-2.html"><img src="admin_assets/images/themes/default.png" class="img-fluid" /></a>
                                </li>
                                <li class="list-group-item mb-2">
                                    <p>Night Mode Theme</p>
                                    <a href="project-dark/index.html"><img src="admin_assets/images/themes/dark.png" class="img-fluid" /></a>
                                </li>
                                <li class="list-group-item mb-2">
                                    <p>RTL Version</p>
                                    <a href="project-rtl/index.html"><img src="admin_assets/images/themes/rtl.png" class="img-fluid" /></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>*@

            @*<div class="user_div">
                    <h5 class="brand-name mb-4">The Inspection Pro<a href="javascript:void(0)" class="user_btn"><i class="fe fe-icon-logout"></i></a></h5>
                    <div class="card-body">
                        <a href="page-profile.html"><img class="card-profile-img" src="admin_assets/images/sm/avatar1.jpg" alt=""></a>
                        <h6 class="mb-0">Peter Richards</h6>
                        <span>peter.richard@gmail.com</span>
                        <div class="d-flex align-items-baseline mt-3">
                            <h3 class="mb-0 mr-2">9.8</h3>
                            <p class="mb-0"><span class="text-success">1.6% <i class="fa fa-arrow-up"></i></span></p>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                            <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                            <div class="progress-bar bg-success" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                            <div class="progress-bar bg-orange" role="progressbar" style="width: 5%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                            <div class="progress-bar bg-indigo" role="progressbar" style="width: 13%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <h6 class="text-uppercase font-10 mt-1">Performance Score</h6>
                        <hr>
                        <p>Activity</p>
                        <ul class="new_timeline">
                            <li>
                                <div class="bullet pink"></div>
                                <div class="time">11:00am</div>
                                <div class="desc">
                                    <h3>Attendance</h3>
                                    <h4>Computer Class</h4>
                                </div>
                            </li>
                            <li>
                                <div class="bullet pink"></div>
                                <div class="time">11:30am</div>
                                <div class="desc">
                                    <h3>Added an interest</h3>
                                    <h4>“Volunteer Activities”</h4>
                                </div>
                            </li>
                            <li>
                                <div class="bullet green"></div>
                                <div class="time">12:00pm</div>
                                <div class="desc">
                                    <h3>Developer Team</h3>
                                    <h4>Hangouts</h4>
                                    <ul class="list-unstyled team-info margin-0 p-t-5">
                                        <li><img src="admin_assets/images/xs/avatar1.jpg" alt="Avatar"></li>
                                        <li><img src="admin_assets/images/xs/avatar2.jpg" alt="Avatar"></li>
                                        <li><img src="admin_assets/images/xs/avatar3.jpg" alt="Avatar"></li>
                                        <li><img src="admin_assets/images/xs/avatar4.jpg" alt="Avatar"></li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <div class="bullet green"></div>
                                <div class="time">2:00pm</div>
                                <div class="desc">
                                    <h3>Responded to need</h3>
                                    <a href="javascript:void(0)">“In-Kind Opportunity”</a>
                                </div>
                            </li>
                            <li>
                                <div class="bullet orange"></div>
                                <div class="time">1:30pm</div>
                                <div class="desc">
                                    <h3>Lunch Break</h3>
                                </div>
                            </li>
                            <li>
                                <div class="bullet green"></div>
                                <div class="time">2:38pm</div>
                                <div class="desc">
                                    <h3>Finish</h3>
                                    <h4>Go to Home</h4>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>*@

            <div id="left-sidebar" class="sidebar ">
                <h5 class="brand-name">The Inspection Pro <a href="javascript:void(0)" class="menu_toggle float-right"><i class="fa fa-close font-16" data-placement="left"></i></a></h5>
                <nav id="left-sidebar-nav" class="sidebar-nav">
                    <ul class="metismenu">
                        <li class="g_heading">Project</li>
                        <li id="Home" class=""><a href="/Home"><i class="fa fa-dashboard"></i><span>Dashboard</span></a></li>
                        @*<li id="Setup" class=""><a href="/Home/Setup"><i class="fa fa-list"></i><span>Setups</span></a></li>*@
                        @if ((int)TempData["Question_can_read"] == 1)
                        {
                            <li id="Questions" class=""><a href="@Url.Action("Question", "Home")"><i class="fa fa-question"></i><span>Questions</span></a></li>
                        }
                        @if ((int)TempData["Product_can_read"] == 1)
                        {
                            <li id="Product" class=""><a href="@Url.Action("Product", "Home")"><i class="fa fa-project-diagram"></i><span>Product</span></a></li>
                        }
                        @*@if ((int)TempData["Product_can_read"] == 1)
                            {*@
                        <li id="ReportList" class=""><a href="@Url.Action("ReportList", "Home")"><i class="fa fa-file"></i><span>Report List</span></a></li>
                        @*}*@
                        @*<li><a target="_blank" href="@Url.Action("QR_code", "Home")"><i class="fa fa-user"></i><span>Scan Product</span></a></li>*@
                        <li class="g_heading">App</li>
                        <li>@*<a href="app-calendar.html"><i class="fa fa-calendar"></i><span>Calendar</span></a>*@</li>
                        <li>@*<a href="app-chat.html"><i class="fa fa-comments"></i><span>Chat</span></a>*@</li>
                        <li>@*<a href="app-contact.html"><i class="fa fa-address-book"></i><span>Contact</span></a>*@</li>
                        @*<li><a href="app-filemanager.html"><i class="fa fa-folder"></i><span>FileManager</span></a></li>*@
                        @if ((int)TempData["Chat_can_read"] == 1)
                        {
                            <li id="Chat_app" class=""><a href="@Url.Action("ChatApp", "Home")"><i class="fa fa-message"></i><span>Chat</span></a></li>
                        }
                        <li id="File_manager" class=""><a href="@Url.Action("FileManager", "Home")"><i class="fa fa-folder"></i><span>File Manager</span></a></li>
                        @if ((int)TempData["User_access_can_read"] == 1)
                        {
                            <li id="User_access" class=""><a href="@Url.Action("User_access", "Home")"><i class="fa fa-user"></i><span>Add Users</span></a></li>
                        }
                        @if ((int)TempData["Settings_can_read"] == 1)
                        {
                            <li id="Setting" class=""><a href="@Url.Action("Settings", "Home")"><i class="fa fa-gear"></i><span>Settings </span></a></li>
                        }
                        @*<li><a href="page-gallery.html"><i class="fa fa-photo"></i><span>Gallery</span></a></li>*@
                        @*<li>
                                <a href="javascript:void(0)" class="has-arrow arrow-c"><i class="fa fa-lock"></i><span>Authentication</span></a>
                                <ul>
                                    <li id="User_access" class=""><a href="@Url.Action("User_access", "Home")"><i class="fa fa-user"></i><span>User Credential</span></a></li>
                                </ul>
                            </li>*@
                        <li class="g_heading">Support</li>
                        <li><a href="javascript:void(0)"><i class="fa fa-support"></i><span>Need Help?</span></a></li>
                        <li><a href="javascript:void(0)"><i class="fa fa-tag"></i><span>ContactUs</span></a></li>
                    </ul>
                </nav>
            </div>


            @*<a title="Start Inspection" target="_blank" href="@Url.Action("QR_code", "Home")" class="back-to-top d-flex align-items-center justify-content-center"><i class="fa fa-plus-circle"></i></a>*@

        }
        @RenderBody()



    </div>

    @*<script>
            window.embeddedChatbotConfig = {
                chatbotId: "iwAVUmKp1zrFrCq74_d0f",
                domain: "www.chatbase.co"
            }
        </script>
        <script src="https://www.chatbase.co/embed.min.js"
                chatbotId="iwAVUmKp1zrFrCq74_d0f"
                domain="www.chatbase.co"
                defer>
        </script>*@

    <script src="https://cdn.botpress.cloud/webchat/v2.2/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2024/12/17/20/20241217204653-RYQCV5A0.js"></script>


    <script src="~/admin_assets/bundles/apexcharts.bundle.js"></script>
    <script src="~/admin_assets/bundles/counterup.bundle.js"></script>
    <script src="~/admin_assets/bundles/c3.bundle.js"></script>
    <script src="~/admin_assets/bundles/sweetalert.bundle.js"></script>
    <script src="~/admin_assets/js/core.js"></script>
    <script src="~/admin_assets/js/page/project-index.js"></script>

    @*<script src="~/admin_assets/bundles/knobjs.bundle.js"></script>*@
    @*<script src="~/admin_assets/bundles/lib.vendor.bundle.js"></script>*@
    <script src="~/printjquery/printThis.js"></script>
    <script src="~/ControllerScripts/PrintAndExcel.js"></script>
    <script src="~/admin_assets/plugins/dropify/js/dropify.min.js"></script>
    <script src="~/admin_assets/js/form/dropify.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(function (registration) {
                    console.log('Service Worker registered with scope:', registration.scope);
                }).catch(function (error) {
                    console.error('Service Worker registration failed:', error);
                });
        }
    </script>

    <script>
     function subscribeUser() {
            debugger
         navigator.serviceWorker.ready.then(function (registration) {
             ////const applicationServerKey = urlBase64ToUint8Array('@HttpContext.Current.Application["VAPID_PublicKey"]');
         const applicationServerKey = urlBase64ToUint8Array('@(System.Web.HttpContext.Current.Application["VAPID_PublicKey"])');

        registration.pushManager.subscribe({
            userVisibleOnly: true,
            applicationServerKey: applicationServerKey
        })
            .then(function (subscription) {
                debugger
            // Log the subscription object
            console.log('User is subscribed:', subscription);

                // Convert the subscription object to JSON to ensure we can access the keys
                var subscriptionJson = subscription.toJSON();

            // Create a FormData object to send subscription data
            var data = new FormData();
                data.append("endpoint", subscriptionJson.endpoint);
                data.append("p256dh", subscriptionJson.keys.p256dh);
                data.append("auth", subscriptionJson.keys.auth);

            // Send the subscription data using AJAX
            $.ajax({
                type: "POST",
                url: '/Home/SaveSubscription',
                data: data,
                contentType: false,  // Important for FormData
                processData: false,  // Important for FormData
                success: function (result) {
                    if (result == "Saved") {
                        console.log('Subscription saved successfully.');
                        $('.alert').alert('close')
                    } else {
                        console.log('Subscription saving failed:', result);
                    }
                },
                error: function (xhr, status, error) {
                    var errorMessage = xhr.status + ': ' + xhr.statusText;
                    console.error('Error - ' + errorMessage);
                }
            });
        })
        .catch(function (err) {
            console.error('Failed to subscribe the user: ', err);
        });
    });
}

        function urlBase64ToUint8Array(base64String) {
            //debugger
            const padding = '='.repeat((4 - base64String.length % 4) % 4);
            const base64 = (base64String + padding)
                .replace(/-/g, '+')
                .replace(/_/g, '/');

            const rawData = window.atob(base64);
            const outputArray = new Uint8Array(rawData.length);

            for (let i = 0; i < rawData.length; ++i) {
                outputArray[i] = rawData.charCodeAt(i);
            }
            return outputArray;
        }
    </script>
    <style>
        .bpComposerPoweredBy {
            display: none;
        }
    </style>
</body>

</html >
